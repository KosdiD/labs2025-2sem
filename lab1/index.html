<!DOCTYPE html>
<html>
<head>
  <title>A-Frame Rolling Cylinder AR </title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/3.4.0/aframe/build/aframe-ar.js"></script>
  <script src="https://unpkg.com/aframe-line-component@1.2.1/dist/aframe-line-component.min.js"></script>
</head>

<body style="margin: 0px; overflow: hidden;">
  <a-scene
    embedded
    arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
    renderer="logarithmicDepthBuffer: true;">

    <a-assets>
      <img id="hardwood" src="../textures/hardwood.jpg">
      <img id="disturb" src="../textures/disturb.jpg">
      <a-asset-item id="font-json" src="../fonts/volja-regular_w-msdf.json"></a-asset-item>
    </a-assets>

    <a-marker type="pattern" url="../patterns/rollingstones.patt">

      <a-plane
        position="0 0 0"
        rotation="-75 0 0"
        width="2"
        height="3"
        material="src: #disturb; repeat: 2 2;">
      </a-plane>

      <a-entity id="rolling-assembly">
          <a-animation
            attribute="position"
            dur="5000"
            from="0 0.2 -1.2"
            to="0 0.2 1.2"
            repeat="indefinite"
            easing="ease-in-out-sine">
          </a-animation>
      
        <a-entity id="cylinder" position="0 0.15 0" rotation="90 0 0">
          <a-cylinder
            radius="0.15"
            height="0.4"
            material="src: #hardwood">
            <a-animation
              attribute="rotation"
              dur="2000"
              from="90 0 0"
              to="90 360 0"
              repeat="indefinite"
              easing="linear">
            </a-animation>
          </a-cylinder>
        </a-entity>

        <a-entity
          line="start: 0 0.15 0; end: 0 -0.5 0; color: red;"
          text="font: #font-json; negate: false; value: mg; color: red; align: center; width: 2.5; side: double; zOffset: 0.1;"
          position="0.15 -0.2 0">
        </a-entity>

        <a-entity
          line="start: 0 0.15 0; end: 0.2 0.7 0; color: blue;"
          rotation="0 0 15"
          text="font: #font-json; negate: false; value: N; color: blue; align: left; width: 2.5; side: double; zOffset: 0.1;"
          position="0.1 0.5 0">
        </a-entity>

        <a-entity
          line="start: 0 0.15 0; end: 0.4 0.05 0; color: green;"
          rotation="0 0 -75"
          text="font: #font-json; negate: false; value: F; color: green; align: left; width: 2.5; side: double; zOffset: 0.1;"
          position="0.25 0.1 0">
        </a-entity>
      </a-entity>

      <a-light type="ambient" color="#888"></a-light>
      <a-light type="directional" intensity="0.8" position="-1 1 0.5"></a-light>
    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>
</body>
</html>
