<!DOCTYPE html>
<html>
<head>
  <title>A-Frame Rolling Cylinder AR</title>
  <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin : 0px; overflow: hidden;">
  <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">

    <a-assets>
      <img id="hardwood" src="../textures/hardwood.jpg">
      <img id="disturb" src="../textures/disturb.jpg">
      <a-asset-item id="font-json" src="../fonts/volja-regular_w-msdf.json"></a-asset-item>
      <a-asset-item id="font-png" src="../fonts/volja-regular_w-msdf.png"></a-asset-item>
    </a-assets>

    <a-marker type="pattern" url="../patterns/rollingstones.patt">

      <a-plane
        position="0 -0.5 0"
        rotation="-70 0 0"
        width="4"
        height="2"
        material="src: #disturb; repeat: 2 1;">
      </a-plane>

      <a-entity id="rolling-cylinder">
        <a-cylinder
          id="cylinder"
          position="0 0.8 -0.8"
          rotation="0 0 -20"
          radius="0.25"
          height="0.5"
          material="src: #hardwood">
          <a-animation
            attribute="position"
            dur="4000"
            from="0 0.8 -0.8"
            to="0 -0.2 0.8"
            repeat="indefinite"
            easing="linear">
          </a-animation>
          <a-animation
            attribute="rotation"
            dur="4000"
            from="0 0 -20"
            to="360 0 -20"
            repeat="indefinite"
            easing="linear">
          </a-animation>
        </a-cylinder>

        <a-entity
          line="start: 0 0.8 -0.8; end: 0 0.2 -0.8; color: red"
          text="font: ../fonts/volja-regular_w-msdf.json; value: mg; color: red; align: center; width: 2; transparent: true; negate: false;"
          position="-0.15 0.4 -0.8"
          rotation="0 0 0">
        </a-entity>


        <a-entity
          line="start: 0 0.8 -0.8; end: 0.2 1.1 -0.8; color: blue"
           text="font: ../fonts/volja-regular_w-msdf.json; value: N; color: blue; align: center; width: 2; transparent: true; negate: false;"
          position="0.25 1.0 -0.8"
          rotation="0 0 70">
        </a-entity>

        <a-entity
          line="start: 0 0.8 -0.8; end: -0.4 0.6 -0.8; color: green"
          text="font: ../fonts/volja-regular_w-msdf.json; value: F; color: green; align: center; width: 2; transparent: true; negate: false;"
          position="-0.3 0.8 -0.8"
          rotation="0 0 -20">
        </a-entity>
      </a-entity>

      <a-entity light="type: ambient; color: #BBB"></a-entity>
      <a-entity light="type: directional; color: #FFF; intensity: 0.6" position="-0.5 1 1"></a-entity>

    </a-marker>

    <a-entity camera></a-entity>
  </a-scene>
</body>
</html>
